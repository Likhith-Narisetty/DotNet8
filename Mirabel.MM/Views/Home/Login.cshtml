@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Mirabel.MM.styles.css" asp-append-version="true" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <title>Mirabel Technologies, Inc.</title>


    <style>
        .bg-image-vertical {
            position: relative;
            overflow: hidden;
            background-repeat: no-repeat;
            background-position: right center;
            background-size: auto 100%;
        }

        @@media (min-width: 1025px) {
            .h-custom-2 {
                height: 100%;
            }
        }


        .btncls {
            border-radius: 50px;
            font-size: 20px;
            background: #3D77B4;
            color: #fff;
            width: 100%;
            display: flex;
            height: 48px;
            padding: 6.857px;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 8px;
            align-self: stretch;
            border: none;
            cursor: pointer;
            transition: background-color 0.5s ease;
        }

            .btncls:hover {
                border-radius: 50px;
                background: #618AC8;
                border: 1px solid unset;
                color: white;
            }

            .btncls:focus {
                box-shadow: rgba(213, 217, 217, .5) 0 2px 5px 0;
                outline: 0;
            }

        .forget {
            color: #8FB2CE !important;
            text-align: center;
            font-size: 14px;
            font-style: normal;
            font-weight: 600;
            line-height: 18px;
            letter-spacing: 0em;
            display: flex;
            justify-content: center;
        }
       

    </style>


</head>
<body>
    <div id="loading" style="display: none;">
        <img id="loading-image" src="~/images/loader.gif" style="width:5%" alt="Loading...">
    </div>

    <section class="vh-100">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-6 px-0 d-none d-sm-block">
                    <img src="https://test20.magazinemanager.com/intranet/NewImages/login-portal-banner.jpg"
                         alt="Login image" class="w-100 vh-100" style="object-fit: cover; object-position: left;">
                </div>

                <div class="col-sm-6 text-black" style="background:#02518F ;justify-content: center;align-items: center;display: flex;">

                    <div class="d-flex align-items-center h-custom-2 px-5 ms-xl-4 pt-xl-0 mt-xl-n5">

                        <form style="width: 23rem;"> 
                            <div class ="col-12" style="display:flex; justify-content:center; align-items:center;">
                                <img src="https://test20.magazinemanager.com/intranet/NewImages/magazinemanagerlogo.svg " id="imgLogo" class="logo col-9 mb-4">
                            </div>
                            

                            <div class="form-group form-floating mb-4 mt-3">
                                @* <span class="input-group-text">
                                    <i class="fas fa-envelope"></i>
                                </span> *@
                                <input type="email" class="form-control form-floating" autocomplete="Off" id="EamilInp" placeholder="Email" />
                                <label htmlFor="EamilInp">Email</label>
                                
                            </div>
                            <div class="form-group form-floating mb-4 mt-3">
                                <input type="password" class="form-control form-floating" autocomplete="Off" id="PwdInp" placeholder="Password" />
                                <label htmlFor="PwdInp">Password</label>

                            </div>
                            <div class="col-12 mb-3 px-0 d-flex justify-content-center">
                                <div class="col mb-3 mt-3">
                                    <button class="btncls" onclick="Login(event)">
                                        Log In
                                    </button>
                                </div>
                            </div>

                            <a class="forget mb-2 mt-1" href="/ForgotPassword">
                                Forgot password?
                            </a>

                            <div class="row justify-content-center align-items-center">
                                <div class="col-1 mb-1 text-center">
                                    <a href="https://www.facebook.com/magazinemanager/" target="_blank">
                                        <img src="https://test20.magazinemanager.com/intranet/NewImages/icon-login-fb.svg" class="img-fluid" alt="Facebook">
                                    </a>
                                </div>
                                <div class="col-1 mb-1 text-center">
                                    <a href="https://twitter.com/MirabelTech" target="_blank">
                                        <img src="https://test20.magazinemanager.com/intranet/NewImages/icon-login-tw.svg" class="img-fluid" alt="Twitter">
                                    </a>
                                </div>
                                <div class="col-1 mb-1 text-center">
                                    <a href="https://www.linkedin.com/company/the-magazine-manager" target="_blank">
                                        <img src="https://test20.magazinemanager.com/intranet/NewImages/icon-login-linkedin.svg" class="img-fluid" alt="LinkedIn">
                                    </a>
                                </div>
                            </div>
                            <div class="row justify-content-center align-items-center">
                                <div class="copy-rights">©2002-2023 <a class="copy-rights" href="http://www.mirabeltechnologies.com" target="_blank">Mirabel Technologies, Inc.</a></div>
                            </div>

                            
                        </form>

                    </div>

                </div>
                
            </div>
        </div>
    </section>
    <script src="~/js/site.js" asp-append-version="true"></script>

</body>

</html>

<script>

    function validateEmail(email) {
        return true;
    }

    function Login(event) {
        event.preventDefault();
        showLoader();
        var userid = $("#EamilInp").val();
        var password = $("#PwdInp").val();

        if (!validateEmail(userid)) {
            alert("Invalid email address");
            hideLoader();
            return;
        }

        if (password.length < 6) {
            alert("Password should be at least 6 characters");
            hideLoader();
            return;
        }
        var IPJson = JSON.stringify({ UserId: userid, Password: password });

        $.ajax({
            type: "POST",
            url: '@Url.Action("LoginApi", "Home")',
            contentType: "application/json; charset=utf-8",
            data: IPJson,

            success: function (data) {
                var result = JSON.parse(data);
                window.location.href = "@Url.Action("Index", "Home")";
            },
            error: function (reponse) {
                hideLoader();
                alert("Error while Login. Pleae refresh page and try again.");
            }
        });

    };


</script>
